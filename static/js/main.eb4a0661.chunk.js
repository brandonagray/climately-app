(this["webpackJsonpclimately-app"]=this["webpackJsonpclimately-app"]||[]).push([[0],{171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(49),o=a.n(r),i=(a(56),a(1)),s=a(2),l=a(4),m=a(3),u=a(5),h=a(17),p=a.n(h),d=a(50),f=a.n(d),E=(a(171),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleQueryChange=function(e){a.setState({query:e.target.value})},a.handleSearch=function(e){e.preventDefault(),a.props.searchSubmit(a.state.query)},a.state={query:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"form-container"},c.a.createElement("form",{onSubmit:this.handleSearch},c.a.createElement("input",{type:"search",value:this.state.query,name:"searchBox",id:"searchBox",placeholder:"Enter City",onChange:this.handleQueryChange,style:{borderBottom:"2px solid ".concat(this.props.accentColor)}}),c.a.createElement("span",{className:"search-button fa fa-search",onClick:this.handleSearch,style:{background:"".concat(this.props.accentColor),borderBottom:"1px solid ".concat(this.props.accentColor)}})))}}]),t}(n.Component)),v=(a(172),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).changeUnit=function(e){var t=e.target.textContent;a.props.onUnitChange(t)},a.state={unit:"C"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"unit-container"},c.a.createElement("span",{className:"unit-value ".concat("C"===this.props.unit?"active-unit":""),style:{borderBottom:"C"===this.props.unit?"1px solid ".concat(this.props.accentColor):"none",background:"C"===this.props.unit?"".concat(this.props.accentColor):"transparent"},onClick:this.changeUnit},"C"),c.a.createElement("span",{className:"unit-value ".concat("F"===this.props.unit?"active-unit":""),style:{borderBottom:"F"===this.props.unit?"1px solid ".concat(this.props.accentColor):"none",background:"F"===this.props.unit?"".concat(this.props.accentColor):"transparent"},onClick:this.changeUnit},"F"))}}]),t}(n.Component)),y=(a(173),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).sendNewUnitToParent=function(e){a.props.changeUnit(e)},a.sendQueryStringToParent=function(e){a.props.searchSubmit(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("nav",null,c.a.createElement("ul",{className:"navbar-container"},c.a.createElement("li",{className:"navbar-list-item"},c.a.createElement(E,{searchSubmit:this.sendQueryStringToParent,accentColor:this.props.accentColor})),c.a.createElement("li",{className:"navbar-list-item city-name"},c.a.createElement("span",{className:""},this.props.data.city)),c.a.createElement("li",{className:"navbar-list-item"},c.a.createElement(v,{unit:this.props.unit,onUnitChange:this.sendNewUnitToParent,accentColor:this.props.accentColor}))))}}]),t}(n.Component)),g=(a(174),[300,301,302,310,311,313,314,321,500,501,502,503,504,511,520,521,522,531,611,612,615,616,620,701]),w=[210,211,212,221,731,761,762,800],b=[200,201,202,230,231,232,600,601,602,621,622,711,721,741,771,781,801,802,803,804],D=function(e){var t=function(e,t){return e.indexOf(t)>-1};return t(g,e)?"wi-blue":t(w,e)?"wi-yellow":t(b,e)?"wi-gray":"wi-blue"},C=a(47),N=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.day,a=e.date,n=e.weatherId,r=e.description,o=e.mainTemp,i=e.minTemp,s=e.maxTemp,l=e.pressure,m=e.humidity,u=e.windSpeed,h=e.hours,p=e.localTime,d=e.timezoneId,f=this.props.unit,E=D(n),v="C"===f?"m/s":"miles/hr",y=0;return h>=0&&h<6?y=1:h>=6&&h<12?y=2:h>=12&&h<18?y=3:h>=18&&h<24&&(y=4),c.a.createElement("div",null,c.a.createElement("div",{className:"current-forecast-container"},c.a.createElement("div",{className:"date-container"},c.a.createElement("div",{className:"time-container"},p?C.tz(p,d).format("h:mm A"):null),c.a.createElement("div",null,t),c.a.createElement("div",null,a)),c.a.createElement("div",{className:"icon-desc-container"},c.a.createElement("div",{className:"icon-conatainer"},c.a.createElement("i",{className:"wi wi-owm-".concat(n," weather-icon ").concat(E)})),c.a.createElement("div",{className:"weather-desc"},r)),c.a.createElement("div",{className:"temp-container"},c.a.createElement("div",{className:"temp-text"},c.a.createElement("span",null,o),c.a.createElement("i",{className:"wi wi-degrees"})),c.a.createElement("div",{className:"high-low-container"},c.a.createElement("div",{className:"high-low-item accent-color-".concat(y)},c.a.createElement("span",null,c.a.createElement("i",{className:"wi wi-direction-up"})),c.a.createElement("span",null,"Max"),c.a.createElement("span",null,c.a.createElement("span",null,s,"\xb0"))),c.a.createElement("div",{className:"high-low-item accent-color-".concat(y)},c.a.createElement("span",null,c.a.createElement("i",{className:"wi wi-direction-down"})),c.a.createElement("span",null,"Min"),c.a.createElement("span",null,c.a.createElement("span",null,i,"\xb0")))))),c.a.createElement("div",{className:"extra-info-container"},c.a.createElement("div",{className:"extra-info-item  accent-color-".concat(y)},c.a.createElement("span",null,c.a.createElement("i",{className:"wi wi-humidity"})),c.a.createElement("span",null,"Humidity:"),c.a.createElement("span",null,m,"%")),c.a.createElement("div",{className:"extra-info-item  accent-color-".concat(y)},c.a.createElement("span",null,c.a.createElement("i",{className:"wi wi-barometer"})),c.a.createElement("span",null,"Pressure:"),c.a.createElement("span",null,l," hPa")),c.a.createElement("div",{className:"extra-info-item  accent-color-".concat(y)},c.a.createElement("span",null,c.a.createElement("i",{className:"wi wi-strong-wind"})),c.a.createElement("span",null,"Wind:"),c.a.createElement("span",null,u," ",v))))}}]),t}(n.Component),S=(a(177),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.data.hours,t=0;e>=0&&e<6?t=1:e>=6&&e<12?t=2:e>=12&&e<18?t=3:e>=18&&e<24&&(t=4);var a=this.props.data.map((function(e){return c.a.createElement(F,{key:e.day,data:e,accentColor:t})}));return c.a.createElement("div",null,c.a.createElement("p",{className:"multiday-forecast-info"},"6-Day Forecast"),c.a.createElement("div",{className:"multiday-forecast-container"},a))}}]),t}(n.Component)),F=function(e){var t=e.data,a=t.day,n=t.weatherId,r=t.description,o=t.mainTemp,i=e.accentColor,s=D(n);return c.a.createElement("div",{className:"single-list-item accent-color-".concat(i)},c.a.createElement("div",{className:"li-info-container"},c.a.createElement("div",{className:"li-day"},a),c.a.createElement("div",{className:"li-temp-text"},o,"\xb0"),c.a.createElement("div",{className:"li-desc"},r)),c.a.createElement("div",{className:"li-weather-icon"},c.a.createElement("i",{className:"wi wi-owm-".concat(n," ").concat(s)})))},O=S,j=a(18),x=(a(178),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"graph-container"},c.a.createElement("p",{className:"graph-info"},"6-Day Trend"),c.a.createElement("div",{className:"graph"},c.a.createElement(j.Sparklines,{data:this.props.data,height:50},c.a.createElement(j.SparklinesLine,{color:this.props.accentColor}),c.a.createElement(j.SparklinesSpots,{style:{fill:"#ffffff"}}))))}}]),t}(n.Component)),T=(a(179),a(47)),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).onUnitChange=function(e){a.setState({unit:e},a.notifyStateChange)},a.onSearchSubmit=function(e){a.setState({queryString:e,latLng:[]},a.notifyStateChange)},a.notifyStateChange=function(){var e=a.state.latLng.length>0,t=""!==a.state.queryString;(e||t)&&(a.fetchCurrentForecast(e).then((function(e){var t=a.extractDataForNavbar(e),n=a.extractDataForCurrentForecast(e);a.fetchLocationTime(n.coords,n.timestamp),a.setState({navbarData:t,currentForecastData:n})})).catch((function(e){console.log("Error:",e)})),a.fetchDailyWeatherForecast(e).then((function(e){var t=a.extractDataForMultiDayAndGraphComponents(e),n=t.multiDayForecastData,c=t.graphData;a.setState({multiDayForecastData:n,graphData:c})})).catch((function(e){console.log("Error:",e)})))},a.fetchCurrentForecast=function(e){var t=e?"lat=".concat(a.state.latLng[0],"&lon=").concat(a.state.latLng[1]):"q=".concat(a.state.queryString),n="C"===a.state.unit?"metric":"imperial",c="".concat("https://api.openweathermap.org/data/2.5/weather","?").concat(t,"&units=").concat(n,"&cnt=7&appid=").concat("e936cc62b3f22eb537ef8c1e231de24f");return p.a.get(c).then((function(e){return e.data})).catch((function(e){console.log("Error:",e)}))},a.fetchDailyWeatherForecast=function(e){var t=e?"lat=".concat(a.state.latLng[0],"&lon=").concat(a.state.latLng[1]):"q=".concat(a.state.queryString),n="C"===a.state.unit?"metric":"imperial",c="".concat("https://api.openweathermap.org/data/2.5/forecast/daily","?").concat(t,"&units=").concat(n,"&cnt=7&appid=").concat("e936cc62b3f22eb537ef8c1e231de24f");return p.a.get(c).then((function(e){return e.data})).catch((function(e){console.log("Error:",e)}))},a.fetchLocationTime=function(e,t){var n="".concat("https://maps.googleapis.com/maps/api/timezone/json","?location=").concat(e.lat,",").concat(e.lon,"&timestamp=").concat(t,"&key=").concat("AIzaSyAxc2CKDD9g8c9Wxgryv_7RTvddmkEEd1U");return p.a.get(n).then((function(e){var t=a.extractDataForTimezone(e.data);a.setState({locationTimezoneData:t})})).catch((function(e){console.log("Error:",e)}))},a.extractDataForNavbar=function(e){return{city:"".concat(e.name,", ").concat(e.sys.country)}},a.extractDataForTimezone=function(e){var t=e.timeZoneId,n=new Date(1e3*a.state.currentForecastData.timestamp);e.time=T.tz(n,t).format(),e.hours=T.tz(n,t).format("H"),e.day=T.tz(n,t).format("dddd"),e.date=T.tz(n,t).format("MMMM DD, YYYY");var c=e.time,r=e.hours,o=e.day,i=e.date,s=JSON.parse(JSON.stringify(a.state.currentForecastData));s.localTime=c,s.timezoneId=t,s.hours=r,s.day=o,s.date=i;var l=JSON.parse(JSON.stringify(a.state.multiDayForecastData));l.hours=r;var m=a.state.accentColor;return r>=0&&r<6?m="#fe1743":r>=6&&r<12?m="#a96ed3":r>=12&&r<18?m="#19b4fc":r>=18&&r<24&&(m="#fcc319"),a.setState({currentForecastData:s,multiDayForecastData:l,accentColor:m}),{hours:r,day:o,date:i}},a.extractDataForCurrentForecast=function(e){return{weather:e.weather[0].main,weatherId:e.weather[0].id,description:e.weather[0].description,mainTemp:Math.round(e.main.temp),minTemp:Math.round(e.main.temp_min),maxTemp:Math.round(e.main.temp_max),pressure:e.main.pressure,humidity:e.main.humidity,windSpeed:e.wind.speed,coords:e.coord,timestamp:e.dt}},a.getDay=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday ","Friday","Saturday","Tomorrow"][new Date(e).getDay()]},a.extractDataForMultiDayAndGraphComponents=function(e){var t=[],n=[];return e.list.forEach((function(e){var c={};c.day=a.getDay(1e3*e.dt),c.weatherId=e.weather[0].id,c.description=e.weather[0].description,c.mainTemp=Math.round(e.temp.day),t.push(c),n.push(e.temp.day)})),t.shift(),{multiDayForecastData:t,graphData:n}},a.state={unit:"C",queryString:"",latLng:[],accentColor:"transparent",navbarData:{},currentForecastData:{},locationTimezoneData:{},multiDayForecastData:[],graphData:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=navigator.geolocation;if(t){t.getCurrentPosition((function(t){e.setState({latLng:[t.coords.latitude,t.coords.longitude]},e.notifyStateChange)}),(function(){console.log("Permission Denied")}))}else console.log("GeoLocation not supported...")}},{key:"render",value:function(){var e=this.state.latLng.length>0,t=""!==this.state.queryString,a=e||t,n=c.a.createElement("div",{className:"app-instructions"},c.a.createElement("p",null,"Allow Location Access or type city name/zip code in search area to get started.")),r=c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"app-today"},c.a.createElement(N,{data:this.state.currentForecastData,unit:this.state.unit})),c.a.createElement("div",{className:"app-list-graph"},c.a.createElement(f.a,{dots:!0,wheel:!0,arrows:!1,autoplay:!0,autoplaySpeed:5e3,adaptiveHeight:!0},c.a.createElement("div",{id:"tab1"},c.a.createElement(O,{data:this.state.multiDayForecastData})),c.a.createElement("div",{id:"tab2"},c.a.createElement(x,{data:this.state.graphData,accentColor:this.state.accentColor})))));return c.a.createElement(c.a.Fragment,null,this.state.locationTimezoneData.hours>=20||this.state.locationTimezoneData.hours<=5?c.a.createElement("div",{className:"stars"}):null,"Rain"===this.state.currentForecastData.weather?c.a.createElement("div",{className:"rain"}):null,c.a.createElement("div",{className:"app-container hour-".concat(this.state.locationTimezoneData?this.state.locationTimezoneData.hours:0)},c.a.createElement("div",{className:"app-nav"},c.a.createElement(y,{searchSubmit:this.onSearchSubmit,changeUnit:this.onUnitChange,unit:this.state.unit,data:this.state.navbarData,accentColor:this.state.accentColor})),a?r:n),"Clouds"===this.state.currentForecastData.weather||"Rain"===this.state.currentForecastData.weather||"Snow"===this.state.currentForecastData.weather?c.a.createElement("div",{className:"clouds clouds1"}):null,"Clouds"===this.state.currentForecastData.weather||"Rain"===this.state.currentForecastData.weather||"Snow"===this.state.currentForecastData.weather?c.a.createElement("div",{className:"clouds clouds2"}):null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},51:function(e,t,a){e.exports=a(180)},56:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.eb4a0661.chunk.js.map